<!DOCTYPE  html>
<html  lang="en">
<head>
    <meta  charset="UTF-8">
    <title>Title</title>
    <style>
        ul{
            clear:  both;
        }
        li{
            float:  left;
            list-style:  none;
            margin-bottom:  20px;
            margin-right:  15px;
        }
    </style>
    <script  src="js/jquery-1.11.1.min.js"></script>
    <script>
        $(function(){
            var  a  =  parseInt($("#price12").text());
            var  b  =  parseInt($("#price22").text());
            var  c  =  parseInt($("#price32").text());
            var  d  =  a  +  b  +  c;
            $("#totalSum").text(d);
            $("#selAll").click(function  ()  {
                var  flag  =  this.checked;
                $(".cartRow  [type='checkbox']").each(function  ()  {
                    this.checked  =  flag;
                });
            });
            $("#11").click(function  ()  {
                var  num  =  $("#num1").val();

                console.log(num);
                num--;
                if  (num  <=  1)  {
                    num  =  1;
                }
                $("#num1").attr("value",  num);
                var  price  =  $("#price11").text();
                price  =  price  *  num;
                $("#price12").text(price);
                f();
            });
            $("#12").click(function  ()  {
                var  num  =  $("#num1").val();
                var  price  =  $("#price11").text();
                num++;
                console.log(num  *  price);
                price  =  price  *  num;
                $("#num1").attr("value",  num);
                $("#price12").text(price);
                f();
            });
            $("#13").click(function  ()  {
                if  (confirm("确定要删除？"))  {
                    $("#13").parent().parent().remove();
                    f();
                }
            });


            $("#21").click(function  ()  {
                var  num  =  $("#num2").val();
                console.log(num);
                num--;
                if  (num  <=  1)  {
                    num  =  1;
                }
                $("#num2").attr("value",  num);
                var  price  =  $("#price21").text();
                price  =  price  *  num;
                $("#price22").text(price);
                f();
            });
            $("#22").click(function  ()  {
                var  num  =  $("#num2").val();
                var  price  =  $("#price21").text();
                num++;
                console.log(num  *  price);
                price  =  price  *  num;
                $("#num2").attr("value",  num);
                $("#price22").text(price);
                f();
            });
            $("#23").click(function  ()  {
                if  (confirm("确定要删除？"))  {
                    $("#23").parent().parent().remove();
                    f();
                }

            });


            $("#31").click(function  ()  {
                var  num  =  $("#num3").val();
                console.log(num);
                num--;
                if (num <= 1) {
                    num = 1;
                }
                $("#num3").attr("value", num);
                var price = $("#price31").text();
                price = price * num;
                $("#price32").text(price);
                f();
            });
            $("#32").click(function () {
                var num = $("#num3").val();
                var price = $("#price31").text();
                num++;
                console.log(num * price);
                price = price * num;
                $("#num3").attr("value", num);
                $("#price32").text(price);
                f();
            });
            $("#33").click(function () {
                if (confirm("确定要删除？")) {
                    $("#33").parent().parent().remove();
                    f();
                }

            });
            $("#deleteAll").click(function () {
                if (confirm("确定要删除？")) {
                    console.log($("input.checkbox").length);
                    var box = $("input.checkbox");
                    for (i = 0; i < box.length; i++) {
                        if (box[i].checked === true) {
                            $(box[i]).parent().parent().remove();
                        }
                    }
                    f();
                }

            });

            function f() {
                var a;
                if ($("#price12").length > 0) {
                    a = parseInt($("#price12").text());
                } else {
                    console.log($("#price12").length)
                    a = 0;
                };
                var b;
                if ($("#price22").length > 0) {
                    b = parseInt($("#price22").text());
                } else {
                    b = 0;
                };
                var c;
                if ($("#price32").length > 0) {
                    c = parseInt($("#price32").text());
                } else {
                    c = 0;
                }

                var d = a + b + c;
                $("#totalSum").text(d);

            };
        });
    </script>
</head>
<body>
<input type="checkbox" id="selAll"/>全选
<div>
    <ul class="cartRow" id="1">
        <li><input class="checkbox" type="checkbox"/></li>
        <li>商品A</li>
        <li><strong>¥</strong><strong id="price11">10</strong></li>
        <li>
            <button id="11">-</button>
        </li>
        <li><input type="text" id="num1" value="1"></li>
        <li>
            <button id="12">+</button>
        </li>
        <li><strong>¥</strong><strong num="totalPrice" id="price12">10</strong></li>
        <li>
            <button id="13">删除</button>
        </li>
    </ul>
    <ul class="cartRow" id="2">
        <li><input class="checkbox" type="checkbox"/></li>
        <li>商品B</li>
        <li><strong>¥</strong><strong id="price21">20</strong></li>
        <li>
            <button id="21">-</button>
        </li>
        <li><input type="text" id="num2" value="1"></li>
        <li>
            <button id="22">+</button>
        </li>
        <li><strong>¥</strong><strong num="totalPrice" id="price22">20</strong></li>
        <li>
            <button id="23">删除</button>
        </li>
    </ul>
    <ul class="cartRow" id="3">
        <li><input class="checkbox" type="checkbox"/></li>
        <li>商品C</li>
        <li><strong>¥</strong><strong id="price31">15</strong></li>
        <li>
            <button id="31">-</button>
        </li>
        <li><input type="text" id="num3" value="1"></li>
        <li>
            <button id="32">+</button>
        </li>
        <li><strong>¥</strong><strong num="totalPrice" id="price32">15</strong></li>
        <li>
            <button id="33">删除</button>
        </li>
    </ul>
    <ul>
        <li>
            <button id="deleteAll">删除选中的商品</button>
        </li>
        <li>
            <div>总价:¥<strong id="totalSum">30.00</strong></div>
        </li>
    </ul>
</div>
</body>
</html>